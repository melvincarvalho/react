<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8" />
  <title>Bookmark App</title>
  <script src="js/react.development.js"></script>
  <script src="js/react-dom.development.js"></script>
  <script src="js/rdflib-0.12.2.min.js"></script>
  <script src="js/util.js"></script>

  <!-- Don't use this in production: -->
  <script src="js/babel.min.js"></script>
</head>

<body>
  <div id="root"></div>
  <script type="text/babel" src="../src/components/bulma/Navbar.jsx"></script>
  <script type="text/babel" src="../src/components/AddressBar.jsx"></script>

  <script type="text/babel">
const defaultUri = 'https://i.redd.it/gwctsj9lbs731.jpg'
var subjectUpdate = {}

// init
var subject = getQueryStringParam('uri') || defaultUri

function setSubject(s) {
  subject = s
  subjectUpdate.callback(s)
}

class Bookmark extends React.Component {
  constructor(props) {
    super(props)
    this.state = {
      recalls : subject
    }
  }

  componentDidMount(){
    if (subjectUpdate) {
      subjectUpdate.callback = (data) => {
        this.setState({recalls : data})
      }
    }
  }

  render() {
    var target = subject
    console.log('target', target)
    return (
      <div><img src={this.state.recalls} /></div>
    )
  }
}

function Main(props) {
    return (
    <section className="section">
      <AddressBar subject={subject} updater={setSubject}>
      <Bookmark />
      </AddressBar>
    </section>
  );
}

function App() {
  return (
    <div>

      <NavbarSolid className="is-link" title="Bookmark" sourceCode="https://github.com/play-grounds/react/blob/gh-pages/play/bookmark.html"></NavbarSolid>      
      
      <Main>
      </Main>

    </div>
  );
}

ReactDOM.render(
  <App />,
  document.getElementById('root')
);

  </script>

  <link rel="stylesheet" href="css/bulma.css" defer>

</body>

</html>