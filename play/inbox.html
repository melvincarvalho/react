<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8" />
  <title>Solid Auth Client</title>
  <script src="js/react.development.js"></script>
  <script src="js/react-dom.development.js"></script>
  <script src="js/rdflib.min.js"></script>
  <script src="js/solid-auth-client.bundle.js"></script>


  <!-- Don't use this in production: -->
  <script src="js/babel.min.js"></script>
</head>

<body>
  <div id="root"></div>
  <script type="text/babel" src="../src/components/bulma/Navbar.jsx"></script>
  <script src="js/solid-auth-client.bundle.js"></script>

  <script type="text/babel">

class App extends React.Component {
  constructor(props) {
    super(props)
    this.state = {
      message: '',
      inbox: null
    }
    this.handleChange = this.handleChange.bind(this)

    solid.auth.trackSession(session => {
      if (!session) {
        this.setState({ message : 'The user is not logged in' })
      } else {
        this.setState({ message : `The user is ${session.webId}` })
      }
    })
  }

  async handleChange(event) {
    login('https://solid.community')    
  }

  async popupLogin(event) {
    login('https://solid.community/common/popup.html')    
  }

  render() {
      return (
    <div>
      <NavbarSolidLogin
        className="is-link" 
        title="Inbox" 
        sourceCode="https://github.com/play-grounds/react/blob/gh-pages/play/inbox.html"/>
      <section className="section">
        <h1>Inbox</h1>
        <hr/>
        {this.state.message}
        <hr/>
        <hr/>
        <div className="buttons">
        <a className="button is-success" target='_blank' href='https://solid.github.io/solid-idps/'>Sign Up for Solid</a>
        
        </div>
        <hr/>
        </section>

    </div>
    )
  }
}

ReactDOM.render(
  <App />,
  document.getElementById('root')
)
  </script>

  <link rel="stylesheet" href="css/bulma.css" defer>

</body>

</html>